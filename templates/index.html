<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canteen Queue Optimization System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">

    <div class="header">
        <h1>Canteen Queue Optimization System</h1>
        <p class="subtitle">Advanced Database Techniques – CA Project</p>
        <a href="{{ url_for('admin_login') }}" class="admin-link">Admin Login</a>
    </div>

    <!-- MENU SECTION -->
    <section>
        <h2>Menu</h2>
        <button onclick="loadMenu()">Refresh Menu</button>
        <table>
            <thead>
            <tr>
                <th>Item ID</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price (₹)</th>
                <th>Avg Prep Time (min)</th>
            </tr>
            </thead>
            <tbody id="menu-body">
            <!-- Filled by JS -->
            </tbody>
        </table>
    </section>

    <!-- ORDER FORM -->
    <section>
        <h2>Place an Order</h2>
        <form id="order-form" onsubmit="submitOrder(event)">
            <div class="form-row">
                <label>Student Name</label>
                <input type="text" id="name" required>
            </div>
            <div class="form-row">
                <label>Registration ID</label>
                <input type="text" id="reg_id" required>
            </div>
            <div class="form-row">
                <label>Item ID</label>
                <input type="number" id="item_id" required>
            </div>
            <div class="form-row">
                <label>Quantity</label>
                <input type="number" id="quantity" value="1" min="1">
            </div>
            <button type="submit">Place Order</button>
        </form>
        <p id="order-message" class="info-text"></p>
    </section>

    <!-- QUEUE STATUS -->
    <section>
        <h2>Current Queue Status</h2>
        <button onclick="loadQueueStatus()">Refresh Queue Status</button>
        <div id="queue-status">
            <p>No data yet.</p>
        </div>
    </section>

    <!-- TODAY'S STATS -->
    <section>
        <h2>Today's Summary</h2>
        <button onclick="loadTodayStats()">Refresh Today's Stats</button>
        <div id="today-stats">
            <p>No data yet.</p>
        </div>
    </section>

</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
